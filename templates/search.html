{% extends "base.html" %}
{% block content %}

<!-- START: main contents -->
<div id="fh5co-project">
  <div class="container">
    
    <!-- START: Check Error Query Genes -->
    {% if num_list_query_gene_error == 1 %}
    <script>
      alert("The gene name provided, " + "[ {{ str_list_query_gene_error }} ]" + ", is not associated with a disease in our database.")
    </script>
    {% endif %}
    {% if num_list_query_gene_error > 1 %}
    <script>
      alert("The gene names provided, " + "[ {{ str_list_query_gene_error }} ]" + ", are not associated with a disease in our database.")
    </script>
    {% endif %}
    <!-- END: Check Error Query Genes -->

    <!-- START: FORM -->
    <form name="search" action="/search_disease" method="post" class="form-group" enctype="multipart/form-data">
      <!-- START: Query Phenotype(s) -->
      <table>
	<tr>
	  <td nowrap>
            <h2>{{ _('index_textbox_title') }}</h2>
	  </td>
	  <td nowrap>
	    <!-- 参考：http://proengineer.internous.co.jp/content/columnfeature/7605 -->
	    <!-- 参考：https://www.marineroad.com/staff-blog/14026.html -->
	    <!--
	    <label for="file_hpo_list">
	      <span style="cursor:pointer;"><font color="#0431B4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ _('search_label_upload_hpo')}} : </font></span>
	      <input type="file" id="file_hpo_list" name="file_hpo_list" style="display:none;" onchange="$('#filename_hpo_list').val($(this).prop('files')[0].name)">
	    </label>
	    -->
	    <input type="text" id="filename_hpo_list" name="filename_hpo_list" size="40" style=border:none; readonly onClick="$('#file').click();">
	  </td>
	</tr>
      </table>
      <textarea class="form-control" rows="1" id="tokeninput_hpo" name="str_phenotypes"></textarea>
      <div align="right">
        {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
        <a href="/text2hpo" target="_blank"><font color="#0431B4">文章から症状(HPO)を抽出したい場合はコチラ</font></a>
        {% else %}
        <a href="https://impact.dbmi.columbia.edu/doc2hpo/" target="_blank"><font color="#0431B4">Input Free-Text (doc2hpo)</font></a>
        {% endif %}
      </div>
      <!-- END: Query Phenotype(s) -->
      <br>
      <!-- START: Narrow down the diseases by Gene(s) -->
      <table>
	<tr>
	  <td nowrap>
	    <h2>{{ _('search_textbox_title_narrowdown') }}</h2>
	  </td>
	  <td nowrap>
	    <!-- 参考：http://proengineer.internous.co.jp/content/columnfeature/7605 -->
	    <!-- 参考：https://www.marineroad.com/staff-blog/14026.html -->
	    <label for="file_gene_list">
	      <!-- <span style="cursor:pointer;"><font color="#F73859">+ Upload File (Entrez Gene ID List) : </font></span> -->
	      <span style="cursor:pointer;"><font color="#0431B4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ _('search_label_upload_gene')}} : </font></span>
	      <input type="file" id="file_gene_list" name="file_gene_list" style="display:none;" onchange="$('#filename_gene_list').val($(this).prop('files')[0].name)">
	    </label>
	    <input type="text" id="filename_gene_list" name="filename_gene_list" size="50" style=border:none; readonly onClick="$('#file').click();">
	  </td>
	</tr>
      </table>
      <textarea class="form-control" rows="1" id="tokeninput_genes" name="str_genes"></textarea>
      <!-- END: Narrow down the diseases by Gene(s) -->
      <br>
      <!-- START: Buttons -->
      <table width="100%">
	<tr>
	  <td>
	    <!-- 共有のためのモーダルを表示用ボタン -->
	    <button type="button" class="btn btn-info" data-toggle="modal" data-target=".modal-share">{{ _('search_button_share_download') }}</button>

	    <!-- START: 共有のためのモーダル・ダイアログ -->
	    <div class="modal fade modal-share" tabindex="-1" role="dialog" aria-hidden="true">
	      <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
		    <h3 class="modal-title">{{ _('search_share_modal_title') }}</h3>
		    <button type="button" class="close" data-dismiss="modal"><span>×</span></button>
		  </div>
		  <!-- START: Share -->
		  <div class="modal-body">
		    <table width="100%">
		      <tr>
			<td bgcolor="#223a70">
			  <h4 class="modal-title"><font color="white"><b>&nbsp;&nbsp;{{ _('search_share_modal_label_share') }}</b></font></h4>
			</td>
		      </tr>
		      <tr>
			<td>
			  <br>&nbsp;&nbsp;{{ _('search_share_modal_label_link') }}: <br>
			  &nbsp;&nbsp;<input style="width:500px;" type="text" id="share_link" value="https://pubcasefinder.dbcls.jp/search_disease/phenotype:{{ str_phenotypes }}/gene:{{ str_genes}}/page:1,1,1,1/size:10,10,10,10,omim" readonly>
			</td>
		      </tr>
		      <tr><td>&nbsp;</td></tr>
		      <tr>
			<!-- buttonでsubmitさせない https://qiita.com/kazu56/items/b2e9c15942e04a6ffda9  -->
			<td align="left" valign="bottom">
			  &nbsp;&nbsp;<button type="button" class="btn btn-info" onclick="copyToClipboard()">{{ _('search_share_modal_button_copy') }}</button>
			  <button type="button" class="btn btn-info" onclick="location.href='mailto:?body=https://pubcasefinder.dbcls.jp/search_disease/phenotype:{{ str_phenotypes }}/gene:{{ str_genes}}/page:1,1,1/size:10,10,10,omim'">{{ _('search_share_modal_button_mail') }}</button>
			</td>
		      </tr>
		    </table>
		  </div>
		  <br>
		  <!-- END: Share -->
		  <!-- START: Download -->
		  <div class="modal-body">
		    <table width="100%">
		      <tr>
			<td bgcolor="#223a70">
			  <h4 class="modal-title"><font color="white"><b>&nbsp;&nbsp;{{ _('search_share_modal_label_download') }}</b></font></h4>
			</td>
		      </tr>
		      <tr>
			<td>
			  <br>&nbsp;&nbsp;{{ _('search_button_download_summary') }}:
			  &nbsp;&nbsp;<input type="button" class="btn btn-info" value="TEXT format" onClick='location.href="{{ url_for_download_summary(str_phenotypes, str_genes, '1', '10') }}"'>
			</td>
		      </tr>
		      <tr><td>&nbsp;</td></tr>
		      <tr>
			<td>
			  &nbsp;&nbsp;{{ _('search_button_download_OMIM') }}:
			  &nbsp;&nbsp;<input type="button" class="btn btn-info" value="TEXT format" onClick='location.href="{{ url_for_download_results_search_omim_page(str_phenotypes, str_genes, '1', '10') }}"'>
			</td>
		      </tr>
		      <tr><td>&nbsp;</td></tr>
		      <tr>
			<td>
			  &nbsp;&nbsp;{{ _('search_button_download_Orphanet') }}:
			  &nbsp;&nbsp;<input type="button" class="btn btn-info" value="TEXT format" onClick='location.href="{{ url_for_download_results_search_page(str_phenotypes, str_genes, '1', '10') }}"'>
			</td>
		      </tr>
		      <tr><td>&nbsp;</td></tr>
		      <tr>
			<td>
			  &nbsp;&nbsp;{{ _('search_button_download_gene') }}:
			  &nbsp;&nbsp;<input type="button" class="btn btn-info" value="TEXT format" onClick='location.href="{{ url_for_download_results_search_gene_page(str_phenotypes, str_genes, '1', '10') }}"'>
			</td>
		      </tr>
		    </table>
		  </div>
		  <!-- END: Download -->
		  <div class="modal-footer">
		    <button type="button" class="btn btn-default" data-dismiss="modal">{{ _('search_share_modal_button_close') }}</button>
		  </div>
		</div>
	      </div>
	    </div>
	    <!-- END: 共有のためのモーダル・ダイアログ -->
	  </td>
	  <td align="right">
	    <button id="phenotouch" class="btn btn-default">{{ _('index_button_phenotouch') }}</button>
	    <button id="tokeninput_hpo_genes_clear" class="btn btn-default">{{ _('index_button_clear') }}</button>
	    <button type="submit" class="btn btn-primary">{{ _('index_button_search') }}</button>
	  </td>
	</tr>
      </table>
      <br>
      <br>
      <!-- END: Buttons -->

      <!-- START: Nav-tabs -->
      <div class="panel with-nav-tabs panel-default">
        <div class="panel-heading">
          <ul class="nav nav-tabs">
	    {% if active_tab == "omim" %}
	    <li class="active"><a href="#tab2default" data-toggle="tab"><div width="100" align="center">{{ _('search_tab_OMIM') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'orphanet') }}"><div width="100" align="center">{{ _('search_tab_Orphanet') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}"><div width="100" align="center">{{ _('search_tab_gene') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}"><div width="100" align="center">{{ _('search_tab_case') }}</div></a></li>
	    {% elif active_tab == "orphanet" %}
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}"><div width="100" align="center">{{ _('search_tab_OMIM') }}</div></a></li>
	    <li class="active"><a href="#tab1default" data-toggle="tab"><div width="100" align="center">{{ _('search_tab_Orphanet') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}"><div width="100" align="center">{{ _('search_tab_gene') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}"><div width="100" align="center">{{ _('search_tab_case') }}</div></a></li>
	    {% elif active_tab == "gene" %}
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}"><div width="100" align="center">{{ _('search_tab_OMIM') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'orphanet') }}"><div width="100" align="center">{{ _('search_tab_Orphanet') }}</div></a></li>
	    <li class="active"><a href="#tab3default" data-toggle="tab"><div width="100" align="center">{{ _('search_tab_gene') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}"><div width="100" align="center">{{ _('search_tab_case') }}</div></a></li>
	    {% elif active_tab == "case" %}
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}"><div width="100" align="center">{{ _('search_tab_OMIM') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'orphanet') }}"><div width="100" align="center">{{ _('search_tab_Orphanet') }}</div></a></li>
	    <li><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}"><div width="100" align="center">{{ _('search_tab_gene') }}</div></a></li>
	    <li class="active"><a href="#tab4default" data-toggle="tab"><div width="100" align="center">{{ _('search_tab_case') }}</div></a></li>
	    {% endif %}
          </ul>
        </div>

	<!-- START: Nav-tabs body -->
        <div class="panel-body">
          <div class="tab-content">

	    <!-- START: select the tab status of OMIM -->
	    {% if active_tab == "omim" %}
            <div class="tab-pane fade in active" id="tab2default">
            {% else %}
	    <div class="tab-pane fade" id="tab2default">
            {% endif %}

	      {% if active_tab == "omim" %}
              <!-- START: OMIM tab -->
	      <div clas="row">
		<div class="col-sm-12">
		  <table width="100%" height="60">
		    <tr>
		      <!-- START: Show total number -->
		      <td align="left" valign="top" width="230">
			<p><br></p>
			<p>{{ _('search_label_total') }}: <font size="4" color="black"><b>{{ total_hit_omim }}</b></font> {{ _('search_label_disease') }}</p>
		      </td>
		      <!-- END: Show total number -->

		      <!-- START: Pagination upper_part -->
		      <td align="middle" valign="middle">
			<ul class="pagination">
			  {% if pagination_omim.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ (page_omim|int - 1) ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination_omim.iter_pages() %}
			  {% if page %}
			  {% if page != pagination_omim.page %}
		          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}">{{ page }}</a></li>
			  {% else %}
		          <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></l
                          {% endif %}
                          {%- endfor %}
                          {% if pagination_omim.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ (page_omim|int + 1) ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}">&raquo;</a></li>
			  {% endif %}
                        </ul>
                      </td>
		      <!-- END: Pagination upper_part -->

		      <!-- START: Show selector for "per page" -->
		      <input type="hidden" name="page_omim" value="{{ page_omim }}">
		      <input type="hidden" name="changesize_selector_omim" value="{{ cs_omim }}">
		      <td align="right" valign="top" width="200">
			<p><br></p>
			<!-- http://qiita.com/act823/items/3a203f1f96e7fe52f69d -->
			<select id="changesize_selector_omim_link" name="changesize_selector_omim_link" onchange="changesize_omim()">
			  {% if cs_omim == "10" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',10,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}" selected>10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',20,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',40,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',60,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',100,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">100</option>
			  {% endif %}
			  {% if cs_omim == "20" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',10,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',20,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}" selected>20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',40,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',60,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',100,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">100</option>
			  {% endif %}
			  {% if cs_omim == "40" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',10,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',20,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',40,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}" selected>40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',60,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',100,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">100</option>
			  {% endif %}
			  {% if cs_omim == "60" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',10,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',20,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',40,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',60,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}" selected>60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',100,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">100</option>
			  {% endif %}
			  {% if cs_omim == "100" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',10,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',20,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',40,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',60,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',1,' ~ page_gene ~ ',' ~ page_case, cs ~ ',100,' ~ cs_gene ~ ',' ~ cs_case ~ ',omim') }}" selected>100</option>
			  {% endif %}
			</select>
			{{ _('search_label_perpage') }}
		      </td>
		      <!-- END: Show selector for "per page" -->
		    </tr>
		  </table>

		  <!-- START: Show result table -->
		  <br>
		  <table class="table table-striped">
		    <thead>
		      <tr>
			<th style="width:100px;" class="text-left">{{ _('search_label_rank') }}<br>{{ _('search_label_similarity') }}</th>
			<th style="width:200px;" class="text-left">{{ _('search_label_DiseaseName') }}</th>
			<th>
			  <div align="right">
			    <span class="label label-primary"><font size="3"><b>{{ _('search_label_MatchedPhenotype') }}</b></font></span>&nbsp;
			    <span class="label label-default"><font size="3"><b>{{ _('search_label_CausativeGene') }}</b></font></span>&nbsp;
			    <span class="label label-success"><font size="3"><b>{{ _('search_label_Inheritance') }}</b></font></span><br>
			  </div>
			</th>
		      </tr>
		    </thead>
		    <tbody>
		      <!-- http://tnakamura.hatenablog.com/entry/20110608/jinja2_for_loop_index -->
                      {% for dict_similar_disease_omim in list_dict_similar_disease_omim %}
		      <tr>
			<!-- Rank -->
			<!-- Similarity -->
			<td width="10">
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    {{ dict_similar_disease_omim['rank'] }}<br>({{ (dict_similar_disease_omim['match_score']*100)|round(1) }}%)
			  </p>
			</td>
			<!-- Disease Name -->
			<td>
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    <a href="https://www.omim.org/entry/{{ dict_similar_disease_omim['onto_id_omim'] | replace('OMIM:', '') }}" target="_blank">
			      {{ dict_similar_disease_omim['onto_term_omim'] }}
		              {% if (get_locale() == "ja" or get_locale() == "ja_JP") and dict_similar_disease_omim['onto_term_omim_ja'] != "" %}
			      <br>----<br>{{ dict_similar_disease_omim['onto_term_omim_ja'] }}
		              {% endif %}
			    </a>
			  </p>
			</td>
			<td>
			  <!-- Matched Phenotypes -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			  <p style="margin-bottom:0.6em;">
			    {% set dict_prev_id = {} %}
			    {% for dict_onto_id_term_hp_disease in dict_similar_disease_omim['onto_id_term_hp_disease'] %}
		            {% if not dict_onto_id_term_hp_disease['onto_id_hp_disease'] in dict_prev_id %}
		            <span class="label label-primary"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/{{ dict_onto_id_term_hp_disease['onto_id_hp_disease'] }}">{{ dict_onto_id_term_hp_disease['onto_term_hp_disease'] }}</a></font></span>
			    {%- if dict_prev_id.update({dict_onto_id_term_hp_disease['onto_id_hp_disease']:True}) %}{%- endif %}
		            {% endif %}
			    {% endfor %}
			  </p>
			  <!-- Causative Genes -->
			  {% set prev_id = "" %}
			  {% for dict_omim_symbol_synonym in dict_similar_disease_omim['omim_symbol_synonym'] %}
		          {% if prev_id != dict_omim_symbol_synonym['entrez_id'] %}
		          <span class="btn-group">
			    <button class="label label-default" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			      <font size="3" color="white">{{ dict_omim_symbol_synonym['symbol'] }}</font>
			    </button>
			    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
			      <a class="dropdown-item" href="https://www.ncbi.nlm.nih.gov/research/pubtator/?view=docsum&query={{ dict_omim_symbol_synonym['symbol'] }}" target="_blank"><font size="3" color="#0431B4"><u>PubTator</u></font></a><br>
			      <a class="dropdown-item" href="https://www.ncbi.nlm.nih.gov/clinvar/?term={{ dict_omim_symbol_synonym['symbol'] }}%5Bgene%5D" target="_blank"><font size="3" color="#0431B4"><u>ClinVar</u></font></a><br>
			      <a class="dropdown-item" href="http://www.hgmd.cf.ac.uk/ac/gene.php?gene={{ dict_omim_symbol_synonym['symbol'] }}" target="_blank"><font size="3" color="#0431B4"><u>HGMD</u></font></a>
			    </div>
		          </span>
		          {% set prev_id = dict_omim_symbol_synonym['entrez_id'] %}
			  {% endif %}
			  {% endfor %}
			  <!-- Disease Information -->
			  <!-- Inheritance -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    <!-- HP:0000006|Autosomal dominant inheritance -->
			    <!-- HP:0000007|Autosomal recessive inheritance -->
			    <!-- HP:0001417|X-linked inheritance -->
			    <!-- HP:0001419|X-linked recessive inheritance -->
			    <!-- HP:0001423|X-linked dominant inheritance -->
			    <!-- HP:0001425|Heterogeneous -->
			    <!-- HP:0001426|Multifactorial inheritance -->
			    <!-- HP:0001427|Mitochondrial inheritance -->
			    <!-- HP:0001428|Somatic mutation -->
			    <!-- HP:0001442|Somatic mosaicism -->
			    <!-- HP:0001444|Autosomal dominant somatic cell mutation -->
			    <!-- HP:0001450|Y-linked inheritance -->
			    <!-- HP:0001452|Autosomal dominant contiguous gene syndrome -->
			    <!-- HP:0001466|Contiguous gene syndrome -->
			    <!-- HP:0001470|Sex-limited autosomal dominant -->
			    <!-- HP:0001472|Familial predisposition -->
			    <!-- HP:0001475|Male-limited autosomal dominant -->
			    <!-- HP:0003743|Genetic anticipation -->
			    <!-- HP:0003744|Genetic anticipation with paternal anticipation bias -->
			    <!-- HP:0003745|Sporadic -->
			    <!-- HP:0010982|Polygenic inheritance -->
			    <!-- HP:0010984|Digenic inheritanec -->
			    <!-- HP:0012275|Autosomal dominant inheritance with maternal imprinting -->
			    <!-- HP:0025352|Autosomal dominant germline de novo mutation -->
			    {% set list_inheritance = dict_similar_disease_omim['onto_term_omim_inheritance'].split(' | ') %}
			    {% for inheritance in list_inheritance %}
		            {% if inheritance == "HP:0000006" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0000006">{{ _('Autosomal_dominant_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0000007" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0000007">{{ _('Autosomal_recessive_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001417" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001417">{{ _('X-linked_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001419" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001419">{{ _('X-linked_recessive_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001423" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001423">{{ _('X-linked_dominant_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001425" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001425">{{ _('Heterogeneous') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001426" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001426">{{ _('Multifactorial_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001427" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001427">{{ _('Mitochondrial_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001428" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001428">{{ _('Somatic_mutation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001442" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001442">{{ _('Somatic_mosaicism') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001444" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001444">{{ _('Autosomal_dominant_somatic_cell_mutation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001450" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001450">{{ _('Y-linked_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001452" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001452">{{ _('Autosomal_dominant_contiguous_gene_syndrome') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001466" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001466">{{ _('Contiguous_gene_syndrome') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001470" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001470">{{ _('Sex-limited_autosomal_dominant') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001472" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001472">{{ _('Familial_predisposition') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001475" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001475">{{ _('Male-limited_autosomal_dominant') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003743" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003743">{{ _('Genetic_anticipation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003744" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003744">{{ _('Genetic_anticipation_with_paternal_anticipation_bias') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003745" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003745">{{ _('Sporadic') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0010982" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0010982">{{ _('Polygenic_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0010984" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0010984">{{ _('Digenic_inheritanec') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0012275" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0012275">{{ _('Autosomal_dominant_inheritance_with_maternal_imprinting') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0025352" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0025352">{{ _('Autosomal_dominant_germline_de_novo_mutation') }}</a></font></span>
			    {% endif %}
			    {% endfor %}
			  </p>
			  <!-- Disease Definition -->
			  <p style="margin-bottom:0.6em;"><font color="black">{{ dict_similar_disease_omim['onto_term_omim_disease_definition'] | safe }}</font>
		            {% if (get_locale() == "ja" or get_locale() == "ja_JP") and dict_similar_disease_omim['onto_term_omim_disease_definition'] != "" %}
			    <a href="https://translate.google.co.jp/?hl=ja#en/ja/{{ dict_similar_disease_omim['onto_term_omim_disease_definition'] | replace('/', '%2F') }}" target="_blank"><font color="#0431B4">&nbsp;&gt;&gt;&nbsp;{{ _('search_label_translate_google') }}</font></a>
		            {% endif %}
			  </p>
			  <!-- External Resources -->
			  <!--p style="margin-bottom:0.1em;line-height:1.8em;"-->
			  <!-- links of OMIM -->
			  <a href="https://www.omim.org/entry/{{ dict_similar_disease_omim['onto_id_omim'] | replace('OMIM:', '') }}" target="_blank"><u><font color="#0431B4">{{dict_similar_disease_omim['onto_id_omim']}}</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of UR-DBMS -->
			  {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		          {% for dict_reference_source in dict_similar_disease_omim['reference_source'] %}
			  {% if dict_reference_source['source'] == "UR-DBMS" %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">日本語疾患詳細 (UR-DBMS)</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
	                  {% endfor %}
			  {% endif %}
			  <!-- link of JStage -->
			  {% for dict_reference_source in dict_similar_disease_omim['reference_source'] %}
			  {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		          {% if dict_reference_source['source'] == "MONDO" %}
		          <a href="{{ url_for_show_jstage_page(dict_reference_source['reference'], 1, 20) }}" target="_blank"><u><font color="#0431B4">日本語症例報告（J-STAGE）</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  {% endif %}
			  {% endfor %}
			  <!-- links of Googles -->
			  <a href="http://www.google.com/search?q={{ dict_similar_disease_omim['onto_term_omim'] }}&tbm=isch" target="_blank"><u><font color="#0431B4">{{ _('search_label_search_image_google') }}</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of Monarch -->
			  {% for dict_reference_source in dict_similar_disease_omim['reference_source'] %}
		          {% if dict_reference_source['source'] == "MONDO" %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">Monarch</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  {% endfor %}
			  <!-- link of KEGG_DISEASE -->
			  {% set dict_flg_kegg = {} %}
			  {% for dict_reference_source in dict_similar_disease_omim['reference_source'] %}
			  {% if dict_reference_source['source'] == "KEGG_DISEASE" %}
		          {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		          <a href="{{ dict_reference_source['link'] }}+-ja" target="_blank"><u><font color="#0431B4">KEGG:{{ dict_reference_source['reference'] }}</font></u></a>
			  {% else %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">KEGG:{{ dict_reference_source['reference'] }}</font></u></a>
			  {% endif %}
                          {%- if dict_flg_kegg.update({"1":True}) %}{%- endif %}
			  {% endif %}
			  {% endfor %}
			  {% if "1" in dict_flg_kegg %}
		          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  <!-- link of Gene Reviews -->
			  {% for dict_reference_source in dict_similar_disease_omim['reference_source'] %}
		          {% if dict_reference_source['source'] == "GeneReviews" %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">Gene Reviews</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  {% endfor %}
			  <!-- link of GTR -->
			  {% if not get_locale() == "ja" and not get_locale() == "ja_JP" %}
		          {% for dict_reference_source in dict_similar_disease_omim['reference_source'] %}
			  {% if dict_reference_source['source'] == "UMLS" %}
		          <a href="https://www.ncbi.nlm.nih.gov/gtr/all/tests/?term={{ dict_reference_source['reference'] }}" target="_blank"><u><font color="#0431B4">GTR:{{ dict_reference_source['reference'] }}</font></u></a>
			  {% endif %}
	                  {% endfor %}
			  {% endif %}
			  </p>
			</td>
		      </tr>
		      {% endfor %}
		    </tbody>
		  </table>
		  <!-- END: Show result table -->
	      
		  <!-- START: Pagination lower_part -->
		  <table width="100%" height="120">
		    <tr>
		      <td align="middle" valign="middle">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<ul class="pagination">
			  {% if pagination_omim.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ (page_omim|int - 1) ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination_omim.iter_pages() %}
			  {% if page %}
			  {% if page != pagination_omim.page %}
		          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}">{{ page }}</a></li>
			  {% else %}
		          <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></l
                          {% endif %}
                          {%- endfor %}
                          {% if pagination_omim.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ (page_omim|int + 1) ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'omim') }}">&raquo;</a></li>
			  {% endif %}
                        </ul>
                      </td>
                    </tr>
                  </table>
                  <!-- END: Pagination lower_part -->
		</div>
              </div>
              {% endif %}
              <!-- END: OMIM tab -->
            </div>
            <!-- END: select the tab status of OMIM -->


	    <!-- START: select the tab status of Orphanet -->
	    {% if active_tab == "orphanet" %}
	    <div class="tab-pane fade in active" id="tab1default">
	    {% else %}
	    <div class="tab-pane fade" id="tab1default">
	    {% endif %}

	      <!-- START: Orphanet tab -->
	      {% if active_tab == "orphanet" %}
	      <div clas="row">
		<div class="col-sm-12">
		  <table width="100%" height="60">
		    <tr>
		      <!-- Start: Show total number -->
		      <td align="left" valign="top" width="230">
			<p><br></p>
			<p>{{ _('search_label_total') }}: <font size="4" color="black"><b>{{ '{:,.0f}'.format(total_hit) }}</b></font> {{ _('search_label_disease') }}</p>
		      </td>
		      <!-- END: Show total number -->
		      
		      <!-- START: Pagination upper_part -->
		      <td align="middle" valign="middle">
			<ul class="pagination">
			  {% if pagination.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, (page_orphanet|int - 1) ~ ',' ~ page_omim ~ ',' ~ page_gene, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ 'orphanet') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination.iter_pages() %}
			  {% if page %}
			  {% if page != pagination.page %}
		          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page ~ ',' ~ page_omim ~ ',' ~ page_gene, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ 'orphanet') }}">{{ page }}</a></li>
			  {% else %}
		          <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></l>
                          {% endif %}
                          {%- endfor %}
                          {% if pagination.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, (page_orphanet|int + 1) ~ ',' ~ page_omim ~ ',' ~ page_gene, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ 'orphanet') }}">&raquo;</a></li>
			  {% endif %}
                        </ul>
                      </td>
                      <!-- END: Pagination upper_part -->

		      <!-- START: Show selector for "per page" -->
		      <input type="hidden" name="page_orphanet" value="{{ page_orphanet }}">
		      <input type="hidden" name="changesize_selector_orphanet" value="{{ cs }}">
                      <td align="right" valign="top" width="200">
			<p><br></p>
			<!-- http://qiita.com/act823/items/3a203f1f96e7fe52f69d -->
			<select id="changesize_selector_orphanet_link" name="changesize_selector_orphanet_link" onchange="changesize_orphanet()">
			  {% if cs == "10" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '10,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}" selected>10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '20,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '40,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '60,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '100,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">100</option>
			  {% endif %}
			  {% if cs == "20" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '10,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '20,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}" selected>20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '40,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '60,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '100,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">100</option>
			  {% endif %}
			  {% if cs == "40" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '10,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '20,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '40,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}" selected>40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '60,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '100,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">100</option>
			  {% endif %}
			  {% if cs == "60" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '10,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '20,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '40,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '60,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}" selected>60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '100,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">100</option>
			  {% endif %}
			  {% if cs == "100" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '10,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '20,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '40,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '60,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, '1,' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, '100,' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',orphanet') }}" selected>100</option>
			  {% endif %}
			</select>
			{{ _('search_label_perpage') }}
		      </td>
		      <!-- END: Show selector for "per page" -->
                    </tr>
                  </table>
                  <!-- START: Controller -->

		  <!-- START: Show result table -->
		  <br>
		  <table class="table table-striped">
		    <thead>
		      <tr>
			<th style="width:100px;" class="text-left">{{ _('search_label_rank') }}<br>{{ _('search_label_similarity') }}</th>
			<th style="width:200px;" class="text-left">{{ _('search_label_DiseaseName') }}</th>
			<th>
			  <div align="right">
			    <span class="label label-primary"><font size="3"><b>{{ _('search_label_MatchedPhenotype') }}</b></font></span>&nbsp;
			    <span class="label label-default"><font size="3"><b>{{ _('search_label_CausativeGene') }}</b></font></span>&nbsp;
			    <span class="label label-success"><font size="3"><b>{{ _('search_label_Inheritance') }}</b></font></span><br>
			  </div>
			</th>
		      </tr>
		    </thead>
		    <tbody>
		      <!-- http://tnakamura.hatenablog.com/entry/20110608/jinja2_for_loop_index -->
		      {% for dict_similar_disease in list_dict_similar_disease %}
		      <tr>
			<!-- Rank -->
			<!-- Similarity -->
			<td width="10">
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    {{ dict_similar_disease['rank'] }}<br>({{ (dict_similar_disease['match_score']*100)|round(1) }}%)
			  </p>
			</td>
			<!-- Disease Name -->
			<td>
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    <a href="{{ url_for_disease_casereport_page(dict_similar_disease['onto_id_ordo'], str_phenotypes, '', '1', '10') }}" target="_blank">{{ dict_similar_disease['onto_term_ordo'] }}
			      {% if (get_locale() == "ja" or get_locale() == "ja_JP") and dict_similar_disease['onto_term_ordo_ja'] != "" %}
			      <br>----<br>{{ dict_similar_disease['onto_term_ordo_ja'] }}
			      {% endif %}
			    </a>
			  </p>
			</td>
			<td>
			  <!-- Matched Phenotypes -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
		          <p style="margin-bottom:0.6em;">
			    {% set dict_prev_id = {} %}
			    {% for dict_onto_id_term_hp_disease in dict_similar_disease['onto_id_term_hp_disease'] %}
		            {% if not dict_onto_id_term_hp_disease['onto_id_hp_disease'] in dict_prev_id %}
		            <span class="label label-primary"><font size="3"><a target="_blank" style="color:white;" href="{{ url_for_show_phenotype_context_page( dict_similar_disease['onto_id_ordo'], dict_onto_id_term_hp_disease['onto_id_hp_disease'], '1', '20' ) }}">{{ dict_onto_id_term_hp_disease['onto_term_hp_disease'] }}</a></font></span>
			    {%- if dict_prev_id.update({dict_onto_id_term_hp_disease['onto_id_hp_disease']:True}) %}{%- endif %} 
		            {% endif %}
			    {% endfor %}
			  </p>
			  <!-- Causative Genes -->
			  {% set prev_id = "" %}
			  {% for dict_orpha_number_symbol_synonym in dict_similar_disease['orpha_number_symbol_synonym'] %}
		          {% if prev_id != dict_orpha_number_symbol_synonym['entrez_id'] %}
		          <span class="btn-group">
			    <button class="label label-default" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			      <font size="3" color="white">{{ dict_orpha_number_symbol_synonym['symbol'] }}</font>
			    </button>
			    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
			      <a class="dropdown-item" href="https://www.ncbi.nlm.nih.gov/research/pubtator/?view=docsum&query={{ dict_orpha_number_symbol_synonym['symbol'] }}" target="_blank"><font size="3" color="#0431B4"><u>PubTator</u></font></a><br>
			      <a class="dropdown-item" href="https://www.ncbi.nlm.nih.gov/clinvar/?term={{ dict_orpha_number_symbol_synonym['symbol'] }}%5Bgene%5D" target="_blank"><font size="3" color="#0431B4"><u>ClinVar</u></font></a><br>
			      <a class="dropdown-item" href="http://www.hgmd.cf.ac.uk/ac/gene.php?gene={{ dict_orpha_number_symbol_synonym['symbol'] }}" target="_blank"><font size="3" color="#0431B4"><u>HGMD</u></font></a>
			    </div>
		          </span>
		          {% set prev_id = dict_orpha_number_symbol_synonym['entrez_id'] %}
			  {% endif %}
			  {% endfor %}
			  <!-- Disease Information -->
			  <!-- Inheritance -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    <!-- HP:0000006|Autosomal dominant inheritance -->
			    <!-- HP:0000007|Autosomal recessive inheritance -->
			    <!-- HP:0001417|X-linked inheritance -->
			    <!-- HP:0001419|X-linked recessive inheritance -->
			    <!-- HP:0001423|X-linked dominant inheritance -->
			    <!-- HP:0001425|Heterogeneous -->
			    <!-- HP:0001426|Multifactorial inheritance -->
			    <!-- HP:0001427|Mitochondrial inheritance -->
			    <!-- HP:0001428|Somatic mutation -->
			    <!-- HP:0001442|Somatic mosaicism -->
			    <!-- HP:0001444|Autosomal dominant somatic cell mutation -->
			    <!-- HP:0001450|Y-linked inheritance -->
			    <!-- HP:0001452|Autosomal dominant contiguous gene syndrome -->
			    <!-- HP:0001466|Contiguous gene syndrome -->
			    <!-- HP:0001470|Sex-limited autosomal dominant -->
			    <!-- HP:0001472|Familial predisposition -->
			    <!-- HP:0001475|Male-limited autosomal dominant -->
			    <!-- HP:0003743|Genetic anticipation -->
			    <!-- HP:0003744|Genetic anticipation with paternal anticipation bias -->
			    <!-- HP:0003745|Sporadic -->
			    <!-- HP:0010982|Polygenic inheritance -->
			    <!-- HP:0010984|Digenic inheritanec -->
			    <!-- HP:0012275|Autosomal dominant inheritance with maternal imprinting -->
			    <!-- HP:0025352|Autosomal dominant germline de novo mutation -->
			    {% set list_inheritance = dict_similar_disease['onto_term_ordo_inheritance'].split(' | ') %}
			    {% for inheritance in list_inheritance %}
		            {% if inheritance == "HP:0000006" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0000006">{{ _('Autosomal_dominant_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0000007" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0000007">{{ _('Autosomal_recessive_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001417" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001417">{{ _('X-linked_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001419" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001419">{{ _('X-linked_recessive_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001423" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001423">{{ _('X-linked_dominant_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001425" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001425">{{ _('Heterogeneous') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001426" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001426">{{ _('Multifactorial_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001427" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001427">{{ _('Mitochondrial_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001428" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001428">{{ _('Somatic_mutation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001442" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001442">{{ _('Somatic_mosaicism') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001444" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001444">{{ _('Autosomal_dominant_somatic_cell_mutation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001450" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001450">{{ _('Y-linked_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001452" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001452">{{ _('Autosomal_dominant_contiguous_gene_syndrome') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001466" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001466">{{ _('Contiguous_gene_syndrome') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001470" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001470">{{ _('Sex-limited_autosomal_dominant') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001472" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001472">{{ _('Familial_predisposition') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001475" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001475">{{ _('Male-limited_autosomal_dominant') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003743" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003743">{{ _('Genetic_anticipation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003744" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003744">{{ _('Genetic_anticipation_with_paternal_anticipation_bias') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003745" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003745">{{ _('Sporadic') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0010982" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0010982">{{ _('Polygenic_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0010984" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0010984">{{ _('Digenic_inheritanec') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0012275" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0012275">{{ _('Autosomal_dominant_inheritance_with_maternal_imprinting') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0025352" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0025352">{{ _('Autosomal_dominant_germline_de_novo_mutation') }}</a></font></span>
			    {% endif %}
			    {% endfor %}
			  </p>

			  <!-- Disease Definition -->
			  <p style="margin-bottom:0.6em;"><font color="black">{{ dict_similar_disease['onto_term_ordo_disease_definition'] | safe }}</font>
		            {% if (get_locale() == "ja" or get_locale() == "ja_JP") and dict_similar_disease['onto_term_ordo_disease_definition'] != "" %}
			    <a href="https://translate.google.co.jp/?hl=ja#en/ja/{{ dict_similar_disease['onto_term_ordo_disease_definition'] | replace('/', '%2F') }}" target="_blank"><font color="#0431B4">&nbsp;&gt;&gt;&nbsp;{{ _('search_label_translate_google') }}</font></a>
		            {% endif %}
			  </p>
			  
			  <!-- External Resources -->
			  <!-- link of Orphanet -->
			  <a href="http://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{ dict_similar_disease['onto_id_ordo'] | replace('ORDO:', '') }}" target="_blank"><u><font color="#0431B4">{{ dict_similar_disease['onto_id_ordo'] | replace('ORDO:', 'Orphanet:') }}</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of JStage -->
			  {% for dict_reference_source in dict_similar_disease['reference_source'] %}
			  {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		          {% if dict_reference_source['source'] == "MONDO" %}
		          <a href="{{ url_for_show_jstage_page(dict_reference_source['reference'], 1, 20) }}" target="_blank"><u><font color="#0431B4">日本語症例報告（J-STAGE）</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  {% endif %}
			  {% endfor %}
			  <!-- link of Google -->
			  <a href="http://www.google.com/search?q={{ dict_similar_disease['onto_term_ordo'] }}&tbm=isch" target="_blank"><u><font color="#0431B4">{{ _('search_label_search_image_google') }}</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of Case Reports -->
			  <a href="{{ url_for_disease_casereport_page(dict_similar_disease['onto_id_ordo'], str_phenotypes, '', '1', '10') }}" target="_blank"><u><font color="#0431B4">{{ _('search_label_related_casereport') }}</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of Monarch -->
			  {% for dict_reference_source in dict_similar_disease['reference_source'] %}
		          {% if dict_reference_source['source'] == "MONDO" %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">Monarch</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  {% endfor %}
			  <!-- link of UR-DBMS -->
			  {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		          {% for dict_reference_source in dict_similar_disease['reference_source'] %}
			  {% if dict_reference_source['source'] == "UR-DBMS" %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">UR-DBMS</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
	                  {% endfor %}
			  {% endif %}
			  <!-- link of KEGG_DISEASE -->
			  {% set dict_flg_kegg = {} %}
			  {% for dict_reference_source in dict_similar_disease['reference_source'] %}
			  {% if dict_reference_source['source'] == "KEGG_DISEASE" %}
		          {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		          <a href="{{ dict_reference_source['link'] }}+-ja" target="_blank"><u><font color="#0431B4">KEGG:{{ dict_reference_source['reference'] }}</font></u></a>
			  {% else %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">KEGG:{{ dict_reference_source['reference'] }}</font></u></a>
			  {% endif %}
                          {%- if dict_flg_kegg.update({"1":True}) %}{%- endif %}
			  {% endif %}
			  {% endfor %}
			  {% if "1" in dict_flg_kegg %}
		          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  <!-- link of Gene Reviews -->
			  {% for dict_reference_source in dict_similar_disease['reference_source'] %}
		          {% if dict_reference_source['source'] == "GeneReviews" %}
		          <a href="{{ dict_reference_source['link'] }}" target="_blank"><u><font color="#0431B4">Gene Reviews</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  {% endif %}
			  {% endfor %}
			  <!-- link of GTR -->
			  {% if not get_locale() == "ja" and not get_locale() == "ja_JP" %}
		          {% for dict_reference_source in dict_similar_disease['reference_source'] %}
			  {% if dict_reference_source['source'] == "UMLS" %}
		          <a href="https://www.ncbi.nlm.nih.gov/gtr/all/tests/?term={{ dict_reference_source['reference'] }}" target="_blank"><u><font color="#0431B4">GTR:{{ dict_reference_source['reference'] }}</font></u></a>
			  {% endif %}
	                  {% endfor %}
			  {% endif %}
			  </p>
			</td>
		      </tr>
		      {% endfor %}
		    </tbody>
		  </table>
                  <!-- END: Show result table -->

		  <!-- START: Pagination lower_part -->
		  <table width="100%" height="120">
		    <tr>
		      <td align="middle" valign="middle">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<ul class="pagination">
			  {% if pagination.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, (page_orphanet|int - 1) ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'orphanet') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination.iter_pages() %}
			  {% if page %}
			  {% if page != pagination.page %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'orphanet') }}">{{ page }}</a></li>
			  {% else %}
			  <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></i>
                          {% endif %}
                          {%- endfor %}
                          {% if pagination.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, (page_orphanet|int + 1) ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'orphanet') }}">&raquo;</a></li>
			  {% endif %}
			</ul>
		      </td>
                    </tr>
                  </table>
                  <!-- END: Pagination lower_part -->
                </div>
              </div>
	      {% endif %}
              <!-- END: Orphanet tab -->
            </div>
            <!-- END: select the tab status of Orphanet -->


	    <!-- START: select the tab status of gene -->
	    {% if active_tab == "gene" %}
            <div class="tab-pane fade in active" id="tab3default">
            {% else %}
	    <div class="tab-pane fade" id="tab3default">
            {% endif %}

	      {% if active_tab == "gene" %}
              <!-- START: gene tab -->
	      <div clas="row">
		<div class="col-sm-12">
		  <table width="100%" height="60">
		    <tr>
		      <!-- START: Show total number -->
		      <td align="left" valign="top" width="230">
			<p><br></p>
			<p>{{ _('search_label_total') }}: <font size="4" color="black"><b>{{ total_hit_gene }}</b></font> {{ _('search_label_disease') }}</p>
		      </td>
		      <!-- END: Show total number -->

		      <!-- START: Pagination upper_part -->
		      <td align="middle" valign="middle">
			<ul class="pagination">
			  {% if pagination_gene.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ (page_gene|int - 1) ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination_gene.iter_pages() %}
			  {% if page %}
			  {% if page != pagination_gene.page %}
		          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}">{{ page }}</a></li>
			  {% else %}
		          <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></l
                          {% endif %}
                          {%- endfor %}
                          {% if pagination_gene.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ (page_gene|int + 1) ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}">&raquo;</a></li>
			  {% endif %}
                        </ul>
                      </td>
		      <!-- END: Pagination upper_part -->

		      <!-- START: Show selector for "per page" -->
		      <input type="hidden" name="page_gene" value="{{ page_gene }}">
		      <input type="hidden" name="changesize_selector_gene" value="{{ cs_gene }}">
		      <td align="right" valign="top" width="200">
			<p><br></p>
			<!-- http://qiita.com/act823/items/3a203f1f96e7fe52f69d -->
			<select id="changesize_selector_gene_link" name="changesize_selector_gene_link" onchange="changesize_gene()">
			  {% if cs_gene == "10" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',10,' ~ cs_case ~ ',gene') }}" selected>10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',20,' ~ cs_case ~ ',gene') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',40,' ~ cs_case ~ ',gene') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',60,' ~ cs_case ~ ',gene') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',100,' ~ cs_case ~ ',gene') }}">100</option>
			  {% endif %}
			  {% if cs_gene == "20" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',10,' ~ cs_case ~ ',gene') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',20,' ~ cs_case ~ ',gene') }}" selected>20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',40,' ~ cs_case ~ ',gene') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',60,' ~ cs_case ~ ',gene') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',100,' ~ cs_case ~ ',gene') }}">100</option>
			  {% endif %}
			  {% if cs_gene == "40" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',10,' ~ cs_case ~ ',gene') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',20,' ~ cs_case ~ ',gene') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',40,' ~ cs_case ~ ',gene') }}" selected>40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',60,' ~ cs_case ~ ',gene') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',100,' ~ cs_case ~ ',gene') }}">100</option>
			  {% endif %}
			  {% if cs_gene == "60" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',10,' ~ cs_case ~ ',gene') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',20,' ~ cs_case ~ ',gene') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',40,' ~ cs_case ~ ',gene') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',60,' ~ cs_case ~ ',gene') }}" selected>60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',100,' ~ cs_case ~ ',gene') }}">100</option>
			  {% endif %}
			  {% if cs_gene == "100" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',10,' ~ cs_case ~ ',gene') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',20,' ~ cs_case ~ ',gene') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',40,' ~ cs_case ~ ',gene') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',60,' ~ cs_case ~ ',gene') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',1,' ~ page_case, cs ~ ',' ~ cs_omim ~ ',100,' ~ cs_case ~ ',gene') }}" selected>100</option>
			  {% endif %}
			</select>
			{{ _('search_label_perpage') }}
		      </td>
		      <!-- END: Show selector for "per page" -->
		    </tr>
		  </table>

		  <!-- START: Show result table -->
		  <br>
		  <table class="table table-striped">
		    <thead>
		      <tr>
			<th style="width:100px;" class="text-left">{{ _('search_label_rank') }}<br>{{ _('search_label_similarity') }}</th>
			<th style="width:200px;" class="text-left">{{ _('search_label_Gene') }}</th>
			<th>
			  <div align="right">
			    <span class="label label-primary"><font size="3"><b>{{ _('search_label_MatchedPhenotype') }}</b></font></span>&nbsp;
			    <span class="label label-danger"><font size="3"><b>{{ _('search_label_DiseaseName') }}</b></font></span>&nbsp;
			    <span class="label label-success"><font size="3"><b>{{ _('search_label_Inheritance') }}</b></font></span><br>
			  </div>
			</th>
		      </tr>
		    </thead>
		    <tbody>
		      <!-- http://tnakamura.hatenablog.com/entry/20110608/jinja2_for_loop_index -->
                      {% for dict_similar_gene in list_dict_similar_gene %}
		      <tr>
			<!-- Rank -->
			<!-- Similarity -->
			<td width="10">
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    {{ dict_similar_gene['rank'] }}<br>({{ (dict_similar_gene['match_score']*100)|round(1) }}%)
			  </p>
			</td>
			<!-- Disease Name -->
			<td>
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    <a href="https://www.genenames.org/data/gene-symbol-report/#!/symbol/{{ dict_similar_gene['symbol'] }}" target="_blank">
			      {{ dict_similar_gene['symbol'] }}
			    </a>
			  </p>
			</td>
			<td>
			  <!-- Matched Phenotypes -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			  <p style="margin-bottom:0.6em;">
			    {% set dict_prev_id = {} %}
			    {% for dict_onto_id_term_hp_gene in dict_similar_gene['onto_id_term_hp_gene'] %}
		            {% if not dict_onto_id_term_hp_gene['onto_id_hp_gene'] in dict_prev_id %}
		            <span class="label label-primary"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/{{ dict_onto_id_term_hp_gene['onto_id_hp_gene'] }}">{{ dict_onto_id_term_hp_gene['onto_term_hp_gene'] }}</a></font></span>
			    {%- if dict_prev_id.update({dict_onto_id_term_hp_gene['onto_id_hp_gene']:True}) %}{%- endif %}
		            {% endif %}
			    {% endfor %}
			  </p>
			  <!-- Disease Information -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			  <p style="margin-bottom:0.6em;">
			    {% for dict_id_en_ja_inheritance in dict_similar_gene['disease_id_en_ja_inheritance'] %}
			    {% if 'OMIM' in dict_id_en_ja_inheritance['disease_id'] %}
			    {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		            <span class="label label-danger"><font size="3"><a target="_blank" style="color:white;" href="https://www.omim.org/entry/{{ dict_id_en_ja_inheritance['disease_id'] | replace('OMIM:', '') }}">{{ dict_id_en_ja_inheritance['term_ja'] }} (OMIM)</a></font></span>
			    {% else %}
		            <span class="label label-danger"><font size="3"><a target="_blank" style="color:white;" href="https://www.omim.org/entry/{{ dict_id_en_ja_inheritance['disease_id'] | replace('OMIM:', '') }}">{{ dict_id_en_ja_inheritance['term_en'] }} (OMIM)</a></font></span>
			    {% endif %}
			    {% elif 'ORDO' in dict_id_en_ja_inheritance['disease_id'] %}
			    {% if get_locale() == "ja" or get_locale() == "ja_JP" %}
		            <span class="label label-danger"><font size="3"><a target="_blank" style="color:white;" href="http://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{ dict_id_en_ja_inheritance['disease_id'] | replace('ORDO:', '') }}">{{ dict_id_en_ja_inheritance['term_ja'] }} (ORDO)</a></font></span>
			    {% else %}
		            <span class="label label-danger"><font size="3"><a target="_blank" style="color:white;" href="http://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{ dict_id_en_ja_inheritance['disease_id'] | replace('ORDO:', '') }}">{{ dict_id_en_ja_inheritance['term_en'] }} (ORDO)</a></font></span>
			    {% endif %}
			    {% endif %}
			    {% endfor %}
			  </p>
			  <!-- Inheritance -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    <!-- HP:0000006|Autosomal dominant inheritance -->
			    <!-- HP:0000007|Autosomal recessive inheritance -->
			    <!-- HP:0001417|X-linked inheritance -->
			    <!-- HP:0001419|X-linked recessive inheritance -->
			    <!-- HP:0001423|X-linked dominant inheritance -->
			    <!-- HP:0001425|Heterogeneous -->
			    <!-- HP:0001426|Multifactorial inheritance -->
			    <!-- HP:0001427|Mitochondrial inheritance -->
			    <!-- HP:0001428|Somatic mutation -->
			    <!-- HP:0001442|Somatic mosaicism -->
			    <!-- HP:0001444|Autosomal dominant somatic cell mutation -->
			    <!-- HP:0001450|Y-linked inheritance -->
			    <!-- HP:0001452|Autosomal dominant contiguous gene syndrome -->
			    <!-- HP:0001466|Contiguous gene syndrome -->
			    <!-- HP:0001470|Sex-limited autosomal dominant -->
			    <!-- HP:0001472|Familial predisposition -->
			    <!-- HP:0001475|Male-limited autosomal dominant -->
			    <!-- HP:0003743|Genetic anticipation -->
			    <!-- HP:0003744|Genetic anticipation with paternal anticipation bias -->
			    <!-- HP:0003745|Sporadic -->
			    <!-- HP:0010982|Polygenic inheritance -->
			    <!-- HP:0010984|Digenic inheritanec -->
			    <!-- HP:0012275|Autosomal dominant inheritance with maternal imprinting -->
			    <!-- HP:0025352|Autosomal dominant germline de novo mutation -->
			    {% set dict_prev_id = {} %}
			    {% for dict_id_en_ja_inheritance in dict_similar_gene['disease_id_en_ja_inheritance'] %}
			    {% set list_inheritance = dict_id_en_ja_inheritance['inheritance'].split(' | ') %}
			    {% for inheritance in list_inheritance %}
		            {% if not inheritance in dict_prev_id %}
		            {% if inheritance == "HP:0000006" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0000006">{{ _('Autosomal_dominant_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0000007" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0000007">{{ _('Autosomal_recessive_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001417" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001417">{{ _('X-linked_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001419" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001419">{{ _('X-linked_recessive_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001423" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001423">{{ _('X-linked_dominant_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001425" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001425">{{ _('Heterogeneous') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001426" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001426">{{ _('Multifactorial_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001427" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001427">{{ _('Mitochondrial_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001428" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001428">{{ _('Somatic_mutation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001442" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001442">{{ _('Somatic_mosaicism') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001444" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001444">{{ _('Autosomal_dominant_somatic_cell_mutation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001450" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001450">{{ _('Y-linked_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001452" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001452">{{ _('Autosomal_dominant_contiguous_gene_syndrome') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001466" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001466">{{ _('Contiguous_gene_syndrome') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001470" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001470">{{ _('Sex-limited_autosomal_dominant') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001472" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001472">{{ _('Familial_predisposition') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0001475" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0001475">{{ _('Male-limited_autosomal_dominant') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003743" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003743">{{ _('Genetic_anticipation') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003744" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003744">{{ _('Genetic_anticipation_with_paternal_anticipation_bias') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0003745" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0003745">{{ _('Sporadic') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0010982" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0010982">{{ _('Polygenic_inheritance') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0010984" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0010984">{{ _('Digenic_inheritanec') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0012275" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0012275">{{ _('Autosomal_dominant_inheritance_with_maternal_imprinting') }}</a></font></span>
			    {% endif %}
		            {% if inheritance == "HP:0025352" %}
			    <span class="label label-success"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/HP:0025352">{{ _('Autosomal_dominant_germline_de_novo_mutation') }}</a></font></span>
			    {% endif %}
			    {%- if dict_prev_id.update({inheritance:True}) %}{%- endif %}
			    {% endif %}
			    {% endfor %}
			    {% endfor %}
			  </p>
			  <!-- External Resources -->
			  <!-- link of Orphanet -->
			  <a href="https://www.ncbi.nlm.nih.gov/gene/?term={{ dict_similar_gene['gene_id'] | replace('ENT:', '') }}" target="_blank"><u><font color="#0431B4">NCBI Gene</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of HGMD -->
			  <a href="http://www.hgmd.cf.ac.uk/ac/gene.php?gene={{ dict_similar_gene['symbol'] }}" target="_blank"><u><font color="#0431B4">HGMD</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of ClinVar -->
			  <a href="https://www.ncbi.nlm.nih.gov/clinvar/?term={{ dict_similar_gene['symbol'] }}" target="_blank"><u><font color="#0431B4">ClinVar</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of TogoVar -->
			  <a href="https://togovar.biosciencedbc.jp/?term={{ dict_similar_gene['symbol'] }}" target="_blank"><u><font color="#0431B4">TogoVar</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of LitVar -->
			  <a href="https://www.ncbi.nlm.nih.gov/CBBresearch/Lu/Demo/LitVar/#!?query={{ dict_similar_gene['symbol'] }}" target="_blank"><u><font color="#0431B4">LitVar</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of PubTator -->
			  <a href="https://www.ncbi.nlm.nih.gov/research/pubtator/?view=docsum&query={{ dict_similar_gene['symbol'] }}" target="_blank"><u><font color="#0431B4">PubTator</font></u></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			  <!-- link of DGIdb -->
			  <a href="http://www.dgidb.org/genes/{{ dict_similar_gene['symbol'] }}#_interactions" target="_blank"><u><font color="#0431B4">DGIdb</font></u></a>
			</td>
		      </tr>
		      {% endfor %}
		    </tbody>
		  </table>
		  <!-- END: Show result table -->
	      
		  <!-- START: Pagination lower_part -->
		  <table width="100%" height="120">
		    <tr>
		      <td align="middle" valign="middle">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<ul class="pagination">
			  {% if pagination_gene.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ (page_gene|int - 1) ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination_gene.iter_pages() %}
			  {% if page %}
			  {% if page != pagination_gene.page %}
		          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}">{{ page }}</a></li>
			  {% else %}
		          <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></l
                          {% endif %}
                          {%- endfor %}
                          {% if pagination_gene.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ (page_gene|int + 1) ~ ',' ~ page_case, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'gene') }}">&raquo;</a></li>
			  {% endif %}
                        </ul>
                      </td>
                    </tr>
                  </table>
                  <!-- END: Pagination lower_part -->
		</div>
              </div>
              {% endif %}
              <!-- END: gene tab -->
            </div>
            <!-- END: select the tab status of Gene -->


	    <!-- START: select the tab status of Case -->
	    {% if active_tab == "case" %}
            <div class="tab-pane fade in active" id="tab4default">
            {% else %}
	    <div class="tab-pane fade" id="tab4default">
            {% endif %}

	      {% if active_tab == "case" %}
              <!-- START: Case tab -->
	      <div clas="row">
		<div class="col-sm-12">
		  <table width="100%" height="60">
		    <tr>
		      <!-- START: Show total number -->
		      <td align="left" valign="top" width="230">
			<p><br></p>
			<p>{{ _('search_label_total') }}: <font size="4" color="black"><b>{{ total_hit_case }}</b></font> {{ _('search_label_case') }}</p>
		      </td>
		      <!-- END: Show total number -->

		      <!-- START: Pagination upper_part -->
		      <td align="middle" valign="middle">
			<ul class="pagination">
			  {% if pagination_case.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ (page_case|int - 1), cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination_case.iter_pages() %}
			  {% if page %}
			  {% if page != pagination_case.page %}
		          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_case ~ ',' ~ page_gene ~ ',' ~ page, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}">{{ page }}</a></li>
			  {% else %}
		          <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></l
                          {% endif %}
                          {%- endfor %}
                          {% if pagination_case.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ (page_case|int + 1), cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}">&raquo;</a></li>
			  {% endif %}
			</ul>
		      </td>
		      <!-- END: Pagination upper_part -->

		      <!-- START: Show selector for "per page" -->
		      <input type="hidden" name="page_case" value="{{ page_case }}">
		      <input type="hidden" name="changesize_selector_case" value="{{ cs_case }}">
		      <td align="right" valign="top" width="200">
			<p><br></p>
			<!-- http://qiita.com/act823/items/3a203f1f96e7fe52f69d -->
			<select id="changesize_selector_case_link" name="changesize_selector_case_link" onchange="changesize_case()">
			  {% if cs_case == "10" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',10,case') }}" selected>10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',20,case') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',40,case') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',60,case') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',100,case') }}">100</option>
			  {% endif %}
			  {% if cs_case == "20" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',10,case') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',20,case') }}" selected>20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',40,case') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',60,case') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',100,case') }}">100</option>
			  {% endif %}
			  {% if cs_case == "40" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',10,case') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',20,case') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',40,case') }}" selected>40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',60,case') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',100,case') }}">100</option>
			  {% endif %}
			  {% if cs_case == "60" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',10,case') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',20,case') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',40,case') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',60,case') }}" selected>60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',100,case') }}">100</option>
			  {% endif %}
			  {% if cs_case == "100" %}
			  <option id="selector_10" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',10,case') }}">10</option>
			  <option id="selector_20" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',20,case') }}">20</option>
			  <option id="selector_40" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',40,case') }}">40</option>
			  <option id="selector_60" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',60,case') }}">60</option>
			  <option id="selector_100" value="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',1', cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',100,case') }}" selected>100</option>
			  {% endif %}
			</select>
			{{ _('search_label_perpage') }}
		      </td>
		      <!-- END: Show selector for "per page" -->
		    </tr>
		  </table>

		  <!-- START: Show result table -->
		  <br>
		  <table class="table table-striped">
		    <thead>
		      <tr>
			<th style="width:100px;" class="text-left">{{ _('search_label_rank') }}<br>{{ _('search_label_similarity') }}</th>
			<th style="width:200px;" class="text-left">{{ _('search_label_Case') }}</th>
			<th>
			  <div align="right">
			    <span class="label label-primary"><font size="3"><b>{{ _('search_label_MatchedPhenotype') }}</b></font></span>&nbsp;
			    <span class="label label-default"><font size="3"><b>{{ _('search_label_MatchedGene') }}</b></font></span>&nbsp;
			  </div>
			</th>
		      </tr>
		    </thead>
		    <tbody>
		      <!-- http://tnakamura.hatenablog.com/entry/20110608/jinja2_for_loop_index -->
                      {% for dict_similar_case in list_dict_similar_case %}
		      <tr>
			<!-- Rank -->
			<!-- Similarity -->
			<td width="10">
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    {{ dict_similar_case['rank'] }}<br>({{ (dict_similar_case['match_score']*100)|round(1) }}%)
			  </p>
			</td>
			<!-- Case Id -->
			<td>
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			    <a href="{{ dict_similar_case['source'] }}" target="_blank">
			      {{ dict_similar_case['case_id'] }}
			    </a>
			  </p>
			</td>
			<td>
			  <!-- Matched Phenotypes -->
			  <p style="margin-top:0.6em;margin-bottom:0.6em;">
			  <p style="margin-bottom:0.6em;">
			    {% set dict_prev_id = {} %}
			    {% for dict_onto_id_term_hp_case in dict_similar_case['onto_id_term_hp_case'] %}
		            {% if not dict_onto_id_term_hp_case['onto_id_hp_case'] in dict_prev_id %}
		            <span class="label label-primary"><font size="3"><a target="_blank" style="color:white;" href="https://hpo.jax.org/app/browse/term/{{ dict_onto_id_term_hp_case['onto_id_hp_case'] }}">{{ dict_onto_id_term_hp_case['onto_term_hp_case'] }}</a></font></span>
			    {%- if dict_prev_id.update({dict_onto_id_term_hp_case['onto_id_hp_case']:True}) %}{%- endif %}
		            {% endif %}
			    {% endfor %}
			  </p>
			  <!-- Causative Genes -->
			  {% set prev_id = "" %}
			  {% for dict_case_symbol_synonym in dict_similar_case['case_symbol_synonym'] %}
		          {% if prev_id != dict_case_symbol_synonym['entrez_id'] %}
		          <span class="btn-group">
			    <button class="label label-default" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			      <font size="3" color="white">{{ dict_case_symbol_synonym['symbol'] }}</font>
			    </button>
			    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
			      <a class="dropdown-item" href="https://www.ncbi.nlm.nih.gov/research/pubtator/?view=docsum&query={{ dict_case_symbol_synonym['symbol'] }}" target="_blank"><font size="3" color="#0431B4"><u>PubTator</u></font></a><br>
			      <a class="dropdown-item" href="https://www.ncbi.nlm.nih.gov/clinvar/?term={{ dict_case_symbol_synonym['symbol'] }}%5Bgene%5D" target="_blank"><font size="3" color="#0431B4"><u>ClinVar</u></font></a><br>
			      <a class="dropdown-item" href="http://www.hgmd.cf.ac.uk/ac/gene.php?gene={{ dict_case_symbol_synonym['symbol'] }}" target="_blank"><font size="3" color="#0431B4"><u>HGMD</u></font></a>
			    </div>
		          </span>
		          {% set prev_id = dict_case_symbol_synonym['entrez_id'] %}
			  {% endif %}
			  {% endfor %}
			  </p>
			</td>
		      </tr>
		      {% endfor %}
		    </tbody>
		  </table>
		  <!-- END: Show result table -->
	      
		  <!-- START: Pagination lower_part -->
		  <table width="100%" height="120">
		    <tr>
		      <td align="middle" valign="middle">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<ul class="pagination">
			  {% if pagination_case.has_prev %}
			  <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ (page_case|int - 1), cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}">&laquo;</a></li>
			  {% endif %}
			  {%- for page in pagination_case.iter_pages() %}
			  {% if page %}
			  {% if page != pagination_case.page %}
		          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_case ~ ',' ~ page_gene ~ ',' ~ page, cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}">{{ page }}</a></li>
			  {% else %}
		          <li align="center" class="active"><a href="#">{{ page }}</a></li>
			  {% endif %}
			  {% else %}
			  <li align="center"><span style="border : 0px">…</span></l
                          {% endif %}
                          {%- endfor %}
                          {% if pagination_case.has_next %}
                          <li align="center"><a href="{{ url_for_search_page(str_phenotypes, str_genes, page_orphanet ~ ',' ~ page_omim ~ ',' ~ page_gene ~ ',' ~ (page_case|int + 1), cs ~ ',' ~ cs_omim ~ ',' ~ cs_gene ~ ',' ~ cs_case ~ ',' ~ 'case') }}">&raquo;</a></li>
			  {% endif %}
			</ul>
		      </td>
                    </tr>
                  </table>
                  <!-- END: Pagination lower_part -->
		</div>
              </div>
              {% endif %}
              <!-- END: OMIM tab -->
            </div>
            <!-- END: select the tab status of Case -->

          </div>
        </div>
        <!-- END: Nav-tabs body -->
      </div>
      <!-- END: Nav-tabs -->
    </form>
    <!-- END: FORM -->
  </div>
</div>
<!-- END: main contents -->


<!-- START: Import JavaScript -->	
<!-- jQuery -->
<script src="/static/js/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="/static/js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="/static/js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="/static/js/jquery.waypoints.min.js"></script>
<!-- countTo -->
<script src="/static/js/jquery.countTo.js"></script>
<!-- Magnific Popup -->
<script src="/static/js/jquery.magnific-popup.min.js"></script>
<script src="/static/js/magnific-popup-options.js"></script>
<!-- Stellar -->
<script src="/static/js/jquery.stellar.min.js"></script>
<!-- rater -->
<script src="/static/js/rater.js"></script>
<!-- Main -->
<script src="/static/js/main.js"></script>
<!-- END: Import JavaScript -->	


<!-- START: jquery-tokeninput -->
<script type="text/javascript" src="/static/js/jquery.tokeninput.js"></script>
<script type="text/javascript" src="/static/js/jquery.tokeninput_gene.js"></script>
<script type="text/javascript">
      $(document).ready(function() {
        $("#tokeninput_hpo").tokenInput("/tokeninput_hpo", {
          theme: "facebook",
          prePopulate: {{ json_phenotypes|safe }}
        });
        $("#tokeninput_genes").tokenInput_gene("/tokeninput_genes", {
          theme: "facebook",
          prePopulate: {{ json_genes|safe }}
        });
        $("#tokeninput_hpo_genes_clear").click(function (){
          $("#tokeninput_hpo").tokenInput("clear");
          $("#tokeninput_genes").tokenInput("clear");
          document.getElementById("filename_hpo_list").value="";
          document.getElementById("filename_gene_list").value="";
          return false;
        });
      });
      $("#phenotouch").click(function (e){
        $.PopupRelationHPOWithWebGL();
        e.preventDefault();
        e.stopPropagation();
        return false;
      });
</script>
<!-- END: jquery-tokeninput -->

<!-- START: popup-hierarchy-hpo -->
<!-- WebGL -->
<script src="/static/js/d3/3.5.17/d3.min.js"></script>
<script src="/static/js/three.js-r84/build/three.min.js"></script>
<script src="/static/js/three.js-r84/examples/js/Detector.js"></script>
<script src="/static/js/three-bits/OBJLoader.js"></script>
<script src="/static/js/three-bits/three-bits.js"></script>
<script src="/static/js/three-bits/three-bits-renderer.js"></script>
<script src="/static/js/three-bits/defaults.js"></script>
<!-- script src="/static/js/three-bits/category2obj.js"></script -->
<script src="/static/js/popup-hierarchy-hpo.js"></script>
<script src="/static/js/button-ripple-effect.js"></script>
<script type="text/javascript">
      $(document).ready(function() {
        $("#tokeninput_hpo").popupRelationHPO('/popup_hierarchy_hpo');
      });
</script>
<!-- END: popup-hierarchy-hpo -->
    
<!-- START: javascript changesize -->
<script type="text/javascript">
      function changesize_orphanet() {
      var browser = document.search.changesize_selector_orphanet_link.value;
        location.href = browser
      }
      function changesize_omim() {
      var browser = document.search.changesize_selector_omim_link.value;
        location.href = browser
      }
      function changesize_gene() {
      var browser = document.search.changesize_selector_gene_link.value;
        location.href = browser
      }
      function changesize_case() {
      var browser = document.search.changesize_selector_case_link.value;
        location.href = browser
      }
</script>
<!-- END: javascript changesize -->

<!-- START: javascript changesize -->
<script type="text/javascript">
    $(function(){
        //ボタンクリックで発火
        $(document).on('click', '#btn-phenotips', function(){
            alert( "Hello" );
            //Ajaxでform入力内容送信
            $.ajax( {
                type: "POST",
                url: "https://demo.gene42.com/rest/patients",
                dataType: "json",
                data : {{ json_phenotips }},
                timeout:10000,
                username: '',
                password: '',
                //beforeSend: function(xhr) {
                //    alert('before');
                //    xhr.setRequestHeader ("Authorization", "Basic " + btoa($('#phenotips_username').val() + ":" + $('#phenotips_password').val()));
                //},
            // success
            }).done(function( response ){
                alert( "success" );
            // fail
            }).fail(function( data ){
                alert( "fail" );
            });
        });
    })
</script>
<!-- END: javascript changesize -->

<!-- START: Copy link -->
<script>
        function copyToClipboard() {
            // コピー対象をJavaScript上で変数として定義する
            var copyTarget = document.getElementById("share_link");
            // コピー対象のテキストを選択する
            copyTarget.select();
            // 選択しているテキストをクリップボードにコピーする
            document.execCommand("Copy");
        }
</script>
<!-- END: Copy link -->



{% endblock %}

